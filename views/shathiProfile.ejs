<head>
    <!-- Style sheets -->
    <link rel="stylesheet" href="../css/shathiProfile.css">
    <style>
        .locked-details {
    display: flex;
    align-items: center;
    color: #888; /* Neutral color */
    font-size: 14px; /* Adjust size */
}

.locked-details .lock-icon {
    margin-right: 5px; /* Space between icon and message */
    font-size: 16px; /* Adjust icon size */
}

.locked-details .message {
    font-style: italic;
}
    </style>
</head>

<body>
    <%-include('./layouts/header', {activePage: 'profile'}) %>

        <div class="profile-container mb-4">


            <!-- Left Section -->
            <aside class="profile-left">
                <div class="profile-image">
                    <!-- <img src="<%= user.profileImage %>" alt="User Profile Picture"> -->
                    <% if (canViewPhoto) { %>
                        <img src="<%= user.profileImage %>" alt="user image">
                    <% } else { %>
                        <div class="locked-details relative">
                            <img src="../images/default.jpg" alt="user image"><br>                            
                         <div class="absolute top-50% fw-4 fs-5 text-gray-800">
                            <span class="lock-icon fs-5">&#128274;</span> <!-- Unicode lock icon -->
                            <span class="message">Photos are disabled by the user!</span>
                         </div>
                        </div>
                    <% } %>
                </div>
                <h2 class="user-name">
                    <%= user.name %>
                </h2>
                <p class="last-active">
                    <%= user.city %>, <%= user.state %>, <%= user.country %>
                                <br> Last Activity: 4 Seconds Ago
                </p>
                <!-- Divs for send interest chat call -->
                <div class="w-full d-flex flex-row justify-center  align-items-start gap-2">
                    <div class="send-interest ">
                        <button class="btn bg-primary-subtle">Interest</button>
                    </div>
                    <!-- chat -->
                    <div class="chat ">
                        <a href="/chat/private/<%= user._id %>" class="btn bg-info-subtle">Chat</a>
                    </div>
                    <!-- calling -->
                    <div class="calling ">
                        <a class="btn btn-danger" href="">Call</a>
                    </div>
                </div>

            </aside>

            <!-- Right Section -->
            <main class="profile-right ">
                <!-- Basic Details -->
                <section class="info-section relative">
                    <h3>Basic Details </h3>
                    <div class="info-grid">
                        <!-- Name -->
                        <div class="info-item"><span class="label ">Name:</span><span class="value">
                                <%= user.name %>
                            </span></div>
                        <!-- Age -->
                        <div class="info-item"><span class="label">Age:</span><span class="value">
                                <%= user.age %> Years.
                            </span></div>
                        <!-- Gender -->
                        <div class="info-item"><span class="label">Gender:</span><span class="value">
                                <%= user.gender %>
                            </span></div>
                        <!-- for whom -->
                        <div class="info-item"><span class="label">For Whom:</span><span class="value">
                                <%= user.forWhom %>
                            </span></div>

                        <!-- city -->
                        <div class="info-item"><span class="label">City:</span><span class="value">
                                <%= user.city %>
                            </span></div>
                        <!-- state -->
                        <div class="info-item"><span class="label">State:</span><span class="value">
                                <%= user.state %>
                            </span></div>
                        <!-- country -->
                        <div class="info-item"><span class="label">Country:</span><span class="value">
                                <%= user.country %>
                            </span></div>
                    </div>
                </section>
                <!-- Sensitive info  -->
                <section class="info-section relative">
                    <!--  -->
                    <h3>Contact Details</h3>
                    <div class="info-grid">
                        <!-- Phone -->
                        <div class="info-item"><span class="label">Phone:</span><span class="value">
                            <% if (canViewPhone) { %>
                                <%= user.phone %>
                            <% } else { %>
                                <div class="locked-details">
                                    <span class="lock-icon">&#128274;</span> <!-- Unicode lock icon -->
                                    <span class="message">Details are locked by the user!</span>
                                </div>
                            <% } %>
                            
                            </span></div>
                </section>
                <!-- Personal Details -->
                <section class="info-section relative">
                    <!--  -->
                    <h3>Personal Details</h3>
                    <div class="info-grid">
                        <!-- height -->
                        <div class="info-item"><span class="label">Height:</span><span class="value">
                                <%= Math.floor(user.height / 12) %>'<%= user.height % 12 %>"
                            </span></div>
                        <!-- Disability. -->
                        <div class="info-item"><span class="label">Disability:</span><span class="value">
                                <!-- <%= user.alternatePhone %> -->
                                <% if (user.disability){ %>
                                    <%= user.disability %>
                                        <%} else {%>
                                            <span class="value">No details Provided.</span>
                                            <%}%>
                            </span></div>
                        <!-- Marital Status -->
                        <div class="info-item"><span class="label">Marital Status:</span><span class="value">
                                <%= user.maritalStatus %>
                            </span>
                        </div>
                        <!-- about me -->
                        <div class="info-item"><span class="label">About Me:</span><span class="value">
                                <!-- <%= user.alternativeEmail %> -->
                                <% if (user.aboutMe){ %>
                                    <%= user.aboutMe %>
                                        <%} else {%>
                                            <span class="value">No details Provided.</span>
                                            <%}%>
                            </span>
                        </div>
                </section>
                <!-- Religion -->
                <section class="info-section relative">
                    <h3>Religion</h3>
                    <div class="info-grid">
                        <!-- Religion -->
                        <div class="info-item"><span class="label">Religion:</span><span class="value">
                                <%= user.religionName %>
                            </span></div>
                        <!-- caste -->
                        <div class="info-item"><span class="label">Caste:</span><span class="value">
                                <!-- <%= user.caste %> -->
                                <% if (user.caste){ %>
                                    <%= user.caste %>
                                        <%} else {%>
                                            <span class="value">No details Provided.</span>
                                            <%}%>

                            </span></div>
                        <!-- sub-caste -->
                        <div class="info-item"><span class="label">Sub-Caste:</span><span class="value">
                                <!-- <%= user.subCaste %> -->
                                <% if (user.subCaste){ %>
                                    <%= user.subCaste %>
                                        <%} else {%>
                                            <span class="value">No details Provided.</span>
                                            <%}%>
                            </span></div>
                        <!-- Mther Tongue -->
                        <div class="info-item"><span class="label">Mother Tongue:</span><span class="value">
                                <%= user.motherTongue %>
                            </span>
                        </div>
                    </div>
                </section>
                <!-- Family Details -->
                <section class="info-section relative">
                    <h3>Family Details</h3>
                    <div class="info-grid">
                        <!-- Family type -->
                        <div class="info-item"><span class="label">Family type:</span><span class="value">
                                <%= user.familyType %>
                            </span></div>
                        <!-- Father's Occupation -->
                        <div class="info-item"><span class="label">Father's Occupation:</span><span class="value">
                                <%= user.fatherOccupation %>
                            </span>
                        </div>
                        <!-- Mother Ocuupation -->
                        <div class="info-item"><span class="label">Mother's Occupation:</span><span class="value">
                                <%= user.motherOccupation %>
                            </span></div>
                        <!-- brother -->
                        <div class="info-item"><span class="label">Brothers:</span><span class="value">
                                <%= user.brotherCount %>
                            </span></div>
                        <!-- Sister Count -->
                        <div class="info-item"><span class="label">Sisters:</span><span class="value">
                                <%= user.sisterCount %>
                            </span></div>
                        <!-- parents address -->
                        <div class="info-item"><span class="label">parents address:</span><span class="value">
                                <!-- <%= user.familyLivesIn %> -->
                                <% if (user.familyLivesIn){ %>
                                    <%= user.familyLivesIn %>
                                        <%} else {%>
                                            <span class="value">No details Provided.</span>
                                            <%}%>
                            </span></div>
                        <div class="info-item"><span class="label">Parents Contact Address:</span><span class="value">
                                <% if (user.contactAddress){ %>
                                    <%= user.contactAddress %>
                                        <%} else {%>
                                            <span class="value">No details Provided.</span>
                                            <%}%>
                            </span></div>
                        <!-- about Family  -->
                        <div class="info-item"><span class="label">About Family:</span><span class="value">
                                <% if (user.aboutFamily){ %>
                                    <%= user.aboutFamily %>
                                        <%} else {%>
                                            <span class="value">No details Provided.</span>
                                            <%}%>

                            </span></div>

                    </div>
                </section>
                <!-- Educational Details -->
                <section class="info-section relative">
                    <h3>Educational Details</h3>
                    <div class="info-grid">
                        <!-- Heigher Qualification -->
                        <div class="info-item"><span class="label">Higher Qualification:</span><span class="value">
                                <% if (user.heigherQualification){ %>
                                    <%= user.heigherQualification %>
                                        <%} else {%>
                                            <span class="value">No details Provided.</span>
                                            <%}%>
                            </span></div>
                        <!-- Ug Degree -->
                        <div class="info-item"><span class="label">UG Degree:</span><span class="value">
                                <% if (user.ugDegree){ %>
                                    <%= user.ugDegree %>
                                        <%} else {%>
                                            <span class="value">No details Provided.</span>
                                            <%}%>
                            </span></div>
                        <!-- Ug college -->
                        <div class="info-item"><span class="label">UG College:</span><span class="value">
                                <% if (user.ugCollege){ %>
                                    <%= user.ugCollege %>
                                        <%} else {%>
                                            <span class="value">No details Provided.</span>
                                            <%}%>
                            </span>
                        </div>
                        <!-- School -->
                        <div class="info-item"><span class="label">School:</span><span class="value">
                                <% if (user.school){ %>
                                    <%= user.School %>
                                        <%} else {%>
                                            <span class="value">No details Provided.</span>
                                            <%}%>
                            </span>
                        </div>
                    </div>
                </section>
                <!-- Professional Details -->
                <section class="info-section relative">
                    <h3>Professional Details</h3>
                    <div class="info-grid">

                        <!-- Employed in -->
                        <div class="info-item"><span class="label">Employement In:</span><span class="value"></span>
                            <% if (user.employedIn){ %>
                                <%= user.employedIn %>
                                    <%} else {%>
                                        <span class="value">No details Provided.</span>
                                        <%}%>
                                            </span>
                        </div>
                        <!-- Occupation -->
                        <div class="info-item"><span class="label">Occupation:</span><span class="value">
                                <% if (user.occupation){ %>
                                    <%= user.occupation %>
                                        <%} else {%>
                                            <span class="value">No details Provided.</span>
                                            <%}%>
                            </span>
                        </div>
                        <!-- Annual Income -->
                        <div class="info-item"><span class="label">Annual Income:</span><span class="value">
                                <% if (user.annualIncome){ %>
                                    <%= user.annualIncome %>
                                        <%} else {%>
                                            <span class="value">No details Provided.</span>
                                            <%}%>
                            </span>
                        </div>
                        <!-- Employee -->
                    </div>
                </section>
            </main>
        </div>


        <!-- Bottom Navigation -->
        <div class="bottom-nav d-flex d-block md-d-none lg-d-none">
            <div class="item">
                <a href="/" class="">
                    <i class="fas fa-home"></i>
                    <br>Home
                </a>
            </div>
            <div class="item">
                <a href="#">
                    <i class="fas fa-heart"></i>
                    <br>Match
                </a>
            </div>
            <div class="item">
                <a href="#">
                    <i class="fas fa-search"></i>
                    <br>Search
                </a>
            </div>
            <div class="item">
                <a href="#">
                    <i class="fas fa-comments"></i>
                    <br>Chat
                </a>
            </div>
            <div class="item">
                <a href="#">
                    <i class="fas fa-arrow-up"></i>
                    <br>Upgrade
                </a>
            </div>
        </div>

</body>